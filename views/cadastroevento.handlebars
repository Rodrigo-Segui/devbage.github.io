<div tabindex="-1" role="dialog" aria-labelledby="modalCadastroLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Cadastrar evento</h5>
      </div>
      <form method="POST">
        <div class="modal-body">
          <div class="form-group">
            <label for="exampleInputEmail1">Nome</label>
            <input type="text" class="form-control" id="nome" name="nome" aria-describedby="nome"
              placeholder="Nome do evento">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Descrição</label>
            <input type="text" class="form-control" id="descricao" name="descricao" aria-describedby="descricao"
              placeholder="Descrição">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Data</label>
            <input type="date" class="form-control" id="data" name="data" aria-describedby="data"
              placeholder="Data do evento">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Ativo</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                    Ativar
                </label>
                </div>
                <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
                <label class="form-check-label" for="flexRadioDefault2">
                    Desativar
                </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button style="background-color: green; border: 0;" type="button" onClick="cadastrarEvento()" class="btn btn-primary">Cadastrar</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
    function cadastrarEvento() {
     	let ativar = null;
		var radios = document.getElementsByName('flexRadioDefault');
		for (var i = 0, length = radios.length; i < length; i++) {
  			if (radios[i].checked) {
				ativar = i;
				break;
  			}
		}
        
        let ativo = null
        if(ativar == 0) {
            ativo = true;
        }
        if(ativar == 1){
            ativo = false;
        }

        fetch('/eventos/novo', {
            method: 'POST',
            headers: { 'Content-type': 'application/json' },
            body: JSON.stringify({
                nome: document.getElementById('nome').value,
                descricao: document.getElementById('descricao').value,
                data: document.getElementById('data').value,
                ativo: ativo,
        }),
        }).then(ref => {
            alert('Evento cadastrado com sucesso!');
        });
    }
</script>